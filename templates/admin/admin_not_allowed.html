{% extends "layout/base.html" %}

{% block title %} {{ title }} {% endblock %}
{% block content %}
<div class="container mx-auto">

    {% if messages %}
        <div class="modal is-active" id="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Error</p>
                    <a href="{{ basePath }}" class="delete" aria-label="close" id="close"></a>
                </header>
                <section class="modal-card-body">
                <ul>
                {% for msg in messages %}
                    
                    <li>{{ msg }}</li>
                    
                {% endfor %}
                </ul>
                </section>
                <footer class="modal-card-foot">
                    <a href="{{ basePath }}" class="button" id="close2">Close</a>
                </footer>
            </div>
        </div>
    {% endif %}

</div>

{% endblock %}

{% block js %} 
    {% if messages %}
        <script>

            document.addEventListener('DOMContentLoaded', () => {
                
                document.getElementById('modal').classList.add('is-active');

                document.getElementById('close').addEventListener('click', () => { 
                    document.getElementById('modal').classList.remove('is-active');
                });

                document.getElementById('close2').addEventListener('click', () => { 
                    document.getElementById('modal').classList.remove('is-active');
                });
                 
            });

            setTimeout(function(){
                document.getElementById('modal').classList.remove('is-active');
                window.location.href = '{{ basePath }}';
            }, 5000);
            
        </script>
    {% endif %}
{% endblock %}
